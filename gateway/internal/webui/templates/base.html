<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{.Title}}</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24'><rect width='20' height='14' x='2' y='3' rx='2' ry='2' fill='%2300ff00'/><circle cx='12' cy='10' r='2' fill='%23000'/></svg>">

    <!-- Tailwind CSS CDN -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'pulse': 'pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite',
                    }
                }
            }
        }
    </script>

    <!-- XTerm.js for terminal emulation -->
    <script src="https://cdn.jsdelivr.net/npm/xterm@5.3.0/lib/xterm.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-fit@0.8.0/lib/xterm-addon-fit.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/xterm-addon-web-links@0.9.0/lib/xterm-addon-web-links.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/xterm@5.3.0/css/xterm.css" />

    <!-- noVNC for VNC viewer -->
    <script type="module">
        import RFBModule from 'https://cdn.jsdelivr.net/npm/@novnc/novnc@1.4.0/core/rfb.js';
        window.RFB = RFBModule;
    </script>
    <style>
        {{block "styles" .}}{{end}}
    </style>
</head>
<body class="font-sans bg-gradient-to-br from-slate-900 via-purple-900 to-slate-900 text-white overflow-hidden h-screen">
    <div class="bg-black/30 backdrop-blur-md border-b border-white/10 px-5 py-3 flex justify-between items-center z-50">
        <h1 class="text-lg font-semibold flex items-center gap-2">
            <div class="w-5 h-5 bg-green-400 rounded-sm flex items-center justify-center text-xs text-black font-bold">{{.IconText}}</div>
            {{.HeaderTitle}}
        </h1>
        <div class="flex items-center gap-1.5 px-3 py-1 rounded-full text-xs font-medium bg-white/10">
            <div class="w-2 h-2 rounded-full bg-yellow-400 animate-pulse" id="status-dot"></div>
            <span id="status">{{.InitialStatus}}</span>
        </div>
    </div>

    <div class="flex h-[calc(100vh-3.75rem)]">
        {{block "content" .}}{{end}}
    </div>

    <script>
        function updateStatus(text, type) {
            const status = document.getElementById('status');
            const statusDot = document.getElementById('status-dot');
            status.textContent = text;

            // Remove existing classes
            statusDot.className = 'w-2 h-2 rounded-full';

            // Add status-specific classes
            if (type === 'connected') {
                statusDot.classList.add('bg-green-400');
            } else if (type === 'error') {
                statusDot.classList.add('bg-red-400');
            } else {
                statusDot.classList.add('bg-yellow-400', 'animate-pulse');
            }
        }

        {{block "scripts" .}}{{end}}
    </script>
</body>
</html>
